{% extends "base.html" %}


{% block app_content %}
    <h2>ezEML Data Package Download</h2>
        <div class="col-md-10">
    <p>&nbsp;</p>
    <p>Your ezEML Data Package archive file is available for download. To download it to your browser's download directory,
        click the Download Link below.
    </p><p></p>
            <b>Package Archive Name</b><br>
            {{ package_name }}
    <p></p>
            <b>Download Link</b><br>
            <a href="{{ download_url }}">Download the package archive to your browser</a>
    <p></p>&nbsp;<p></p>
    You may wish to send the package to someone else (e.g., a project collaborator) for them to import into their
            ezEML account. In such cases, you could
            download the package and attach it to an email. Alternatively, you can click the button below to copy
            the package archive's URL to your clipboard. You can then paste the URL into
            an email, and the email's recipients can use it to download the file for themselves. This is especially handy
            in cases where the archive file is too large to send as an email attachment.
            The package archive will be available at the provided URL address for at least four weeks.
    <br><br>
            <form method="POST" action="" class="form" role="form">
                <input class="btn btn-primary" style="width: 200px;" onclick="copy_to_clipboard('{{ download_url }}');" value="Copy URL to Clipboard"/>
                <input class="btn btn-primary" style="width: 100px;" name="Cancel" type="submit" value="Continue"/>
                {{ macros.hidden_buttons() }}
            </form>
        </div>
{% endblock %}

{% block app_scripts %}
    {{ super() }}

    <script>
    function copy_to_clipboard(copyText) {
        {#alert(copyText);#}
        let $temp = $("<input>");
        $("body").append($temp);
        $temp.val(copyText).select();
        document.execCommand("copy");
        $temp.remove();
    }
    </script>
{% endblock %}
